<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-ajax/iron-ajax.html">
<link rel="import" href="../oc-core-utils/oc-api-provider-behaviour.html">

<dom-module id="oc-user-api">

  <template>
    <iron-ajax id="getLoggedInUser"></iron-ajax>
  </template>

  <script>
    (function () {
      Polymer({
        is: 'oc-user-api',
        behaviors: [OC.Behaviours.ApiProvider],

        /**
         * Get the currently logged in user
         *
         * @returns {Promise}
         */
        getLoggedInUser: function() {
          this.$.getLoggedInUser.url = this._url('users/logged_in');
          return this._generateRequest(this.$.getLoggedInUser);
        }

      });
    })();
  </script>

</dom-module>
